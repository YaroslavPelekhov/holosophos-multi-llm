Holosophos: многоагентный фреймворк с поддержкой нескольких LLM‑провайдеров

Описание

Holosophos — это модульный многоагентный фреймворк для автоматизации научно‑исследовательских задач с использованием больших языковых моделей (LLM). Проект предназначен для поддержки полного исследовательского цикла: от поиска и анализа литературы до проектирования экспериментов и написания академических статей.

Данная версия репозитория (holosophos-multi-llm) является расширением оригинального проекта Holosophos и добавляет поддержку нескольких LLM‑провайдеров (OpenRouter, OpenAI, DeepSeek) с автоматическим выбором провайдера на уровне модели.

Проект ориентирован на исследовательские сценарии и подготовку материалов для конференций уровня NeurIPS / ICLR / ICML.

⸻

Ключевые возможности

1. Многоагентная архитектура

Фреймворк реализует специализированных агентов со строго разделёнными ролями:
	•	Manager — координация агентов и глобальное планирование
	•	Librarian — поиск и анализ научных статей (ArXiv, Semantic Scholar и др.)
	•	MLE Solver — проектирование и анализ ML‑экспериментов
	•	Writer — генерация и редактирование LaTeX‑статей
	•	Proposer — генерация исследовательских идей и гипотез
	•	Reviewer — рецензирование и критический анализ результатов

Каждый агент может использовать собственную LLM и отдельного провайдера.

⸻

2. Поддержка нескольких LLM‑провайдеров

Реализована прозрачная работа с несколькими API без изменения логики агентов:
	•	OpenRouter — используется по умолчанию и как fallback
	•	OpenAI — прямой доступ к моделям GPT
	•	DeepSeek — прямой OpenAI‑совместимый API

Выбор провайдера происходит автоматически на основе:
	•	имени модели (model_name)
	•	наличия соответствующего API‑ключа в переменных окружения

Логика маршрутизации реализована в файле:

codearkt/llm.py


⸻

3. Исследовательская направленность

Holosophos ориентирован на реальные research‑сценарии:
	•	формулировка research questions (RQ)
	•	проектирование экспериментов
	•	анализ ограничений методов
	•	генерация количественных результатов (таблицы, графики)
	•	подготовка полноформатных LaTeX‑статей

⸻

Структура репозитория

holosophos-multi-llm/
├── holosophos/
│   ├── agents/            # Реализация агентов
│   ├── prompts/           # YAML‑промпты агентов
│   ├── main_agent.py      # Точка сборки системы агентов
│   ├── settings.py        # Конфигурация
│   └── server.py
├── codearkt/
│   └── llm.py             # Унифицированный LLM‑клиент (multi‑provider)
├── reports/               # Скрипты оценки и экспериментов
├── tests/                 # Тесты
├── Dockerfile
├── docker-compose.yml
├── pyproject.toml
└── README.md


⸻

Настройка окружения

1. Установка зависимостей

Рекомендуется Python 3.11+.

pip install -e .

Или через Docker (рекомендуется для воспроизводимости).

⸻

2. Переменные окружения

Создайте файл .env в корне проекта.

Пример минимальной конфигурации:

# OpenRouter (fallback / default)
OPENROUTER_API_KEY=your_openrouter_key
BASE_URL=https://openrouter.ai/api/v1

# OpenAI (опционально)
OPENAI_API_KEY=your_openai_key
OPENAI_BASE_URL=https://api.openai.com/v1

# DeepSeek (опционально)
DEEPSEEK_API_KEY=your_deepseek_key
DEEPSEEK_BASE_URL=https://api.deepseek.com

Если ключ для провайдера отсутствует, система автоматически переключится на доступный fallback.

⸻

Конфигурация моделей

Файл holosophos/settings.py содержит список используемых моделей:

MODEL_NAME = "openai/gpt-oss-120b:free"   # Manager (OpenRouter)
MODEL_NAME_GPT = "openai/gpt-5.2"         # Writer / Proposer / Reviewer
MODEL_NAME_DEEPSEEK = "deepseek/deepseek-v3.2"  # Librarian / MLE Solver

Распределение моделей по агентам задаётся в holosophos/main_agent.py.

⸻

Запуск

Локальный запуск

python -m holosophos.main_agent "Ваш исследовательский запрос"

Пример:

python -m holosophos.main_agent "Design experiments to study failure modes of generative world models"


⸻

Запуск через Docker

docker compose up --build

После запуска сервер будет доступен по адресу:

http://localhost:5055


⸻

Назначение проекта

Данный репозиторий предназначен для:
	•	академических исследований
	•	подготовки научных статей
	•	экспериментального анализа LLM‑based систем
	•	воспроизводимых ML‑экспериментов

Проект не является продуктом для production‑среды и ориентирован на исследовательское использование.

⸻

Лицензия

Проект распространяется под лицензией MIT.

⸻

Авторство

Основано на оригинальном проекте Holosophos

Расширение: multi‑provider LLM routing (OpenRouter / OpenAI / DeepSeek)
